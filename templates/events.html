{% extends "base.html" %}

{% block title %}APEX | Our Events{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/events.css') }}">
{% endblock %}

{% block content %}

<header class="page-header">
    <div class="header-pattern"></div>
    <div class="container position-relative z-2">
        <span class="badge bg-warning text-dark rounded-pill px-3 py-2 mb-3 shadow fw-bold">
            <i class="fas fa-star me-1"></i> Active Community
        </span>
        
        <h1 class="display-4 fw-bold mb-3 text-white">Our Events & Activities</h1>
        <p class="lead opacity-75 mx-auto text-light" style="max-width: 600px;">
            Memories of the change we are making together. Explore our journey.
        </p>
    </div>
</header>

<section class="section-padding pt-0 bg-light" style="min-height: 80vh;">
    <div class="container">
        
        <div class="row justify-content-center mb-5 filter-container" data-aos="fade-up">
            <div class="col-auto">
                <div class="filter-box">
                    <button class="filter-btn active" data-filter="all">All Events</button>
                    <button class="filter-btn" data-filter="Social">Social</button>
                    <button class="filter-btn" data-filter="Cultural">Cultural</button>
                    <button class="filter-btn" data-filter="Recreational">Recreational</button>
                </div>
            </div>
        </div>

        <div class="row g-4" id="events-container">
            {% for event in events %}
            <div class="col-lg-4 col-md-6 event-item" data-category="{{ event.category }}" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                
                <div class="card event-card h-100 border-0 shadow-sm">
                    <div class="event-img-wrapper position-relative">
                        <img src="{{ url_for('static', filename='uploads/images/' + event.image) }}" alt="{{ event.title }}">
                        
                        <div class="date-badge">
                            <span class="month">{{ event.date_str.split(' ')[0] }}</span>
                            <span class="day">{{ event.date_str.split(' ')[1].replace(',', '') }}</span>
                        </div>

                        <span class="category-badge">
                            <i class="fas fa-tag me-1"></i> {{ event.category }}
                        </span>
                    </div>

                    <div class="card-body p-4 d-flex flex-column">
                        <h5 class="card-title fw-bold text-dark mb-3">{{ event.title }}</h5>
                        
                        <p class="card-text text-muted small mb-4 flex-grow-1" style="line-height: 1.6;">
                            {{ event.description | truncate(90) }}
                        </p>
                        
                        <a href="{{ url_for('event_detail', id=event.id) }}" class="btn btn-outline-primary w-100 rounded-pill fw-bold mt-auto">
                            View Details <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>
                </div>

            </div>
            {% else %}
            <div class="col-12 text-center py-5">
                <div class="py-5">
                    <div class="mb-3 text-muted opacity-25">
                        <i class="fas fa-calendar-times fa-4x"></i>
                    </div>
                    <h3 class="fw-bold text-secondary">No Events Yet</h3>
                    <p class="text-muted">We are planning something big! Check back soon.</p>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div id="no-events-msg" class="text-center py-5 d-none">
            <h4 class="text-muted">No events found in this category.</h4>
        </div>

    </div>
</section>

<section class="section-padding bg-white">
    <div class="container">
        <div class="cta-box text-center text-white shadow-lg" data-aos="zoom-in">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <h2 class="fw-bold mb-3 text-white">Have an Idea for an Event?</h2>
                    <p class="mb-4 opacity-75 lead">We are always open to new initiatives to help the community. If you have a vision, we have the team.</p>
                    <a href="instagram_acc" class="btn btn-light text-primary btn-lg rounded-pill px-5 fw-bold shadow">
                        Contact Us Now
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>


{% block scripts %}
    <script src="{{ url_for('static', filename='js/events.js') }}"></script>
{% endblock %}


{% endblock %}