{% extends "base.html" %}

{% block title %}APEX | Register{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
{% endblock %}

{% block content %}
 <main class="auth-section">
    <div class="auth-pattern"></div>
    
    <div class="auth-card" data-aos="fade-up">
        <div class="text-center mb-4">
            <div class="auth-icon">
                <i class="fas fa-user-plus"></i>
            </div>
            <h3 class="auth-title">Join the Family</h3>
            <p class="text-muted small">Create your account to join clubs, events, and courses.</p>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show rounded-4 text-center small shadow-sm" role="alert">
                    <i class="fas fa-info-circle me-2"></i> {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form action="{{ url_for('register') }}" method="POST">
            
            <div class="row g-3 mb-3">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="text" class="form-control rounded-4" name="first_name" id="firstName" placeholder="First Name" required>
                        <label for="firstName">First Name</label>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="text" class="form-control rounded-4" name="last_name" id="lastName" placeholder="Last Name" required>
                        <label for="lastName">Last Name</label>
                    </div>
                </div>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-4" name="phone_number" id="phoneInput" placeholder="Phone Number" required>
                <label for="phoneInput">Phone Number</label>
            </div>

            <div class="form-floating mb-3">
                <select class="form-select rounded-4" name="branch" id="branchSelect" required>
                    <option value="" selected disabled>Select your Branch...</option>
                    <option value="Math">Mathématiques (Math)</option>
                    <option value="PC">Physique-Chimie (PC)</option>
                    <option value="SVT">Sciences de la Vie et de la Terre (SVT)</option>
                    <option value="Sport">Education Physique (Sport)</option>
                    <option value="Informatique">Histoire et géographie (H&g)</option>
                    <option value="Primaire">Enseignement Primaire</option>
                    <option value="Arabe">Langue Arabe</option>
                    <option value="Francais">Langue Française</option>
                    <option value="Anglais">Langue Anglaise</option>
                    <option value="Anglais">Éducation islamique</option>
                </select>
                <label for="branchSelect">Academic Branch</label>
            </div>

            <div class="form-floating mb-3">
                <input type="email" class="form-control rounded-4" name="email" id="emailAddr" placeholder="name@example.com" required>
                <label for="emailAddr">Email address</label>
            </div>

            <div class="row g-3 mb-4">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="password" class="form-control rounded-4" name="password" id="passInput" placeholder="Password" required>
                        <label for="passInput">Password</label>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="password" class="form-control rounded-4" name="confirm_password" id="confirmPassInput" placeholder="Confirm" required>
                        <label for="confirmPassInput">Confirm</label>
                    </div>
                </div>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow-sm fw-bold">
                    Create Account <i class="fas fa-arrow-right ms-2"></i>
                </button>
            </div>
        </form>

        <div class="text-center border-top pt-4 mt-4">
            <small class="text-muted">Already a member?</small>
            <a href="{{ url_for('login') }}" class="login-link">Login here</a>
        </div>

    </div>
 </main>
{% endblock %}